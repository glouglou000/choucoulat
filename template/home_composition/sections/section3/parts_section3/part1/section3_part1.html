<!-- Here is the part for animation -->
<div id="transition_section3">

    <input type="button" value="croix" onclick="stop_animation()" id="">


    <!-- Here is the rectangle when we put on view project -->
    <svg width="100%" height="100%" id="svg_transition_section3">
      <rect x="0" y="0" width="100%" height="100%" stroke="#9FB1BC" fill="transparent" stroke-width="10"/>
    </svg>

    <!-- Here is the Text of animation -->
    <span class="text_animation_section3" id="text_un"><p id="un"></p></span>
    <span class="text_animation_section3" id="text_deux"><p id="deux"></p></span>
    <span class="text_animation_section3" id="text_trois"><p id="trois"></p></span>
    <span class="text_animation_section3" id="text_quattre"><p id="quattre"></p></span>

    <!-- Here is the Bands of color animation -->
    <div class="bande width_bande" id="bande1"></div>
    <div class="bande width_bande" id="bande2"></div>
    <div class="bande width_bande" id="bande3"></div>
    <div class="bande width_bande" id="bande4"></div>
    <div class="bande width_bande" id="bande5"></div>
    <div class="bande width_bande" id="bande6"></div>
    <div class="bande width_bande" id="bande7"></div>
    <div class="bande width_bande" id="bande8"></div>

    <!-- Here is the white div for pre gif -->
    <div id="cache_gif"></div>

    <!-- Here is the gif animation -->
    <img class="image_page" id="gif_transition"
        src="/static/home_composition/section3/images/transition.gif">

 </div>

<!-- Here is the black logo synergo during animation -->
<span id="logo_animation">S Y N E R G O</span>






<!-- Here is the part for The picture and the view project -->
<div class="container_image_direction">



    <!-- Here is the part for The picture and progress barre tool -->
    <div class="container_image">

        <!-- Here is the part for The picture -->
        <img class="image_page" id="image_page_eye"
            src="static/home_composition/section3/images/a.png"
                onmouseOver="progress('image_page_eye')"
                onmouseOut="unprogress('image_page_eye')">

         <!-- Here is the part for The progress barre tool -->
         <svg version="1.1" xmlns="http://www.w3.org/2000/svg" class="svg_progress" id="svg_progress_eye1">
            <circle id="stroke-3" cx="80%" cy="55%" r="70" style="z-index:1;"/>
         </svg>

         <svg version="1.1" xmlns="http://www.w3.org/2000/svg" class="svg_progress" id="svg_progress_eye2">
            <circle id="stroke-2" cx="80%" cy="55%" r="70"/>
         </svg>

         <span class="percent_progress" id="percent_eye">60%</span> 



        <!-- Here is the github link -->
        <div class="github_direction" id="github_direction_eyes">
            <span href="" onclick="appear('github_direction_eyes', 'image_page_eye', 'link_github_eyes')">
                Github
            </span>
            <a href="https://github.com/JeanBaptisteServais/SYNERGO/tree/master/eye"
                class="link_github" id="link_github_eyes">
                : https://github.com/JeanBaptisteServais/SYNERGO/tree/master/eye
            </a>
        </div>


    </div>




    <!-- Here is the part for The view project -->
    <div class="container_direction">

        <div class="to_project" id="eyes_explications">


            <!-- Here is the text -->
            <h2 class="to_project_title">Eyes sections</h2>
            <center>
                <p class="project_explication">Venez voir notre détecteur d'iris à l'aide d'OpenCV !</p>
            </center>


            <!-- Here is the square -->
            <div class="carre">

                <svg width="240" height="50" class="svg_square" onclick="redirect()">
                    <a href="#yoyo">

                        <rect x="1" y="1" id="squarebabs" width="238" height="48"
                            stroke="white" fill="transparent" stroke-width="2"/>

                        <text x="25" y="30" font-family="playfair display"
                            font-size="15" fill="white" class="project_view">
                            V I E W &nbsp; P R O J E C T
                        </text>

                    </a>

                </svg>

            </div>
        </div>
    </div>
</div>



<style>
    #image_page_eye{
        z-index:50;
    }
    #section3_part1{
        opacity:1;
        -webkit-transition: opacity 2s;
        -moz-transition: opacity 2s;
        -o-transition: opacity 2s;
        transition: opacity 2s;
    }

    /* Section of the 4th 6th animations */
    #gif_transition{
        position:absolute;
        left:35%;
        top:20%;
        width:60%;
        height:60%;
        visibility:hidden;
        opacity:0;
        -webkit-transition: opacity 2s;
        -moz-transition: opacity 2s;
        -o-transition: opacity 2s;
        transition: opacity 2s;
    }
    #cache_gif{
        position:absolute;
        left:35%;
        top:20%;
        width:60%;
        height:60%;
        background:white;
        display:none;
    }
    /* Color bands and top emplacments*/
    #bande1{
        top:0;
        background: red
    }
    #bande2{
        top:50px;
        background: #B8E1FF;
    }
    #bande3{
        top:100px;
        background: pink;
    }
    #bande4{
        top:150px;
        background: maroon;
    }
    #bande5{
        top:200px;
        background: orange;
    }
    #bande6{
        top:250px;
        background: green;
    }
    #bande7{
        top:300px;
        background: blue;
    }
    #bande8{
        height: 45px;
        top:350px;
        background: yellow;
    }

    /* Band class -> moving band */
    .bande {
        position:absolute;
        width: 110px;
        height: 50px;
        display: inline-block;
        cursor: pointer;
        left:0;
        display:none;
        }
    .width_bande {	
        /* Syntaxe standard */
        transition-property: width, background;
        transition-duration: 0.5s;
        transition-timing-function: linear;
        transition-delay: 0.1s;
        
        /* Hack Safari */
        -webkit-transition-property: width, background;
        -webkit-transition-duration: 0.5s;
        -webkit-transition-timing-function: linear;
        -webkit-transition-delay: 0.1s;    
    }



    /* Section of the 3rd animations (Text) */
    /* P composant */    
    #un{
        margin-top:0;
        font-size:4em;
        letter-spacing:2px;
        font-weight:bold;
        margin-left:8%;
        font-family:Impact, Charcoal, sans-serif;
    }
    #deux{
        margin-top:0;
        font-size:6em;
        margin-left:26%;
        font-family:Impact, Charcoal, sans-serif;
    }
    #trois{
        margin-top:15px;
        font-size:2em;
        float:left;
        font-family:Impact, Charcoal, sans-serif;
        color:red;
    }
    #quattre{
        margin-top:0;
        font-size:1.5em;
        margin-right:55%;
        font-style:italic;
    }

    /* Span composant */
    #text_un{
        width:60%;
        height:15%;
        left:0;
        top:25%;
    }
    #text_deux{
        width:35%;
        height:15%;
        left:0;
        top:45%;
    }
    #text_trois{
        width:75%;
        height:15%;
        left:40%;
        top:45%;
    }
    #text_quattre{
        width:30%;
        height:15%;
        left:60%;
        top:75%;
    }
    .text_animation_section3{
        position:absolute;
        z-index:49;
        color:white;
    }

    /* First animation (Logo SYNERGO appear) */
    #logo_animation{
        position:absolute;
        font-size:4.5em;
        font-weight:bold;
        z-index:50;
        width:100%;
        margin-top:15%;
        left:0;
        opacity:0;
        -webkit-transition: opacity 2s;
        -moz-transition: opacity 2s;
        -o-transition: opacity 2s;
        transition: opacity 2s;  
    }


    /* It compose the eyes and information section div */
    #transition_section3{
        position:absolute;
        width:60%;
        height:70%;
        margin-left:20%;
        margin-top:4%;
        stroke-dasharray: 385%;
        stroke-dashoffset: 385%;
    }

    /* Section 3 Scare SVG */
    #squarebabs:hover{
        stroke:#2D3142;
    }
    #container3{
        background:#7BAABE;
    }

    /* The progress circle bartool*/
    #stroke-2 {
      stroke: #96C3CE;
      position:absolute;
      fill: none;
      stroke-width: 2%;
      stroke-dasharray: 300;
    }
    #stroke-3 {
      stroke: #4BC6B9;
      position:absolute;
      fill: none;
      stroke-width: 2%;
      stroke-dasharray: 450;

    }
</style>



<script
  src="https://code.jquery.com/jquery-3.4.1.js"
  integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
  crossorigin="anonymous"></script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>


<script>

    //GLOBALS VARIABLES

    var DISPLAYING = 0;

    var text1 = "S Y N E R G O,";
    var text2 = "Nous,"
    var text3 = "voyons ensemble.";
    var text4 = "Synergo";

    var text1_treat = text1.split("");
    var text2_treat = text2.split("");
    var text3_treat = text3.split("");
    var text4_treat = text4.split("");

    var timeLooper;


    //A REFAIREEEEEE MAIS JE LA COMPREND PAS !!!!!!!!!!!!
    //Writting sentence for animation.
    function write1(){
        if (text1_treat.length > 0){
            document.getElementById('un').innerHTML += text1_treat.shift();
        }
        timeLooper = setTimeout('write1()', 50);
    };
    function write2(){
        if (text2_treat.length > 0){
            document.getElementById('deux').innerHTML += text2_treat.shift();
        }
        timeLooper = setTimeout('write2()', 50);
    };
    function write3(){
        if (text3_treat.length > 0){
            document.getElementById('trois').innerHTML += text3_treat.shift();
        }
        timeLooper = setTimeout('write3()', 50);

        if (document.getElementById('trois').innerHTML.length == 30){
            DISPLAYING = 1
        };
    };
    function write4(){
        if (text4_treat.length > 0){
            document.getElementById('quattre').innerHTML += text4_treat.shift();
        }
        timeLooper = setTimeout('write4()', 50);
    };

    //Writte sence : Synergo Nous, ...
    function animation3(){
        setTimeout('write1()', 4000);
        setTimeout('write4()', 4000);
        setTimeout('write2()', 5000);
        setTimeout('write3()', 6000);

    };



    //Make a blur on the screen from differents navigator.      STATIC ANIMATION
    function blur_div(element){
        document.getElementById(element).style.WebkitFilter = " blur(10px)";
        document.getElementById(element).style.MozFilter = " blur(10px)";
        document.getElementById(element).style.OFilter = " blur(10px)";
        document.getElementById(element).style.MsFilter = " blur(10px)";
        document.getElementById(element).style.filter = " blur(10px)";
    };
    //stretching bands
    function bande_operate(element){
        document.getElementById(element).style.width = "100%";
    };
    //Coding like foot, we undisplaying page for animation.   STATIC ANIMATION
    function undisplaying(){
        document.getElementById("image_page_eye").style.zIndex = "1";
        document.getElementById("svg_progress_eye1").style.display = "none";
        document.getElementById("svg_progress_eye2").style.display = "none";
        document.getElementById("percent_eye").style.display = "none";
    };
    //Make appear the logo darkening the screen
    function logo_appear(){
        document.getElementById("logo_animation").style.opacity = 1;
        document.getElementById("transition_section3").style.zIndex = "200";
        document.getElementById("transition_section3").style.strokeDashoffset  = "0";
        document.getElementById("transition_section3").style.transition = "1.5s";
    };

    //First animation; composed by
    // - blur_div
    // - undisplaying
    // - logo_appear
    function animation1(){

        setTimeout(function(){

            //undisplay first layer animation
            undisplaying();

            //Make blur on the eye/explciation sections
            blur_div("image_page_eye");
            blur_div("eyes_explications");

            //Make appear the logo as fadIn()
            logo_appear();

            }, 1000)
    };

    //Put a black div at center.
    function animation2(){
        setTimeout(function(){
            document.getElementById("transition_section3").style.backgroundColor  = "black";
        }, 2500)
    };



    //bandaged of colors are displaying, undisplayin text.
    function animation4(){

        setTimeout(function(){
            document.getElementById("transition_section3").style.backgroundColor = "white";
            
            liste_bande = ["bande1", "bande2", "bande3", "bande4", "bande5", "bande6", "bande7", "bande8"]
            for (var i = 0; i<liste_bande.length; i++){
                document.getElementById(liste_bande[i]).style.display = "block";
            };

            liste_text = ["text_un", "text_deux", "text_trois", "text_quattre"]
            for (var i = 0; i<liste_text.length; i++){
                document.getElementById(liste_text[i]).style.display = "none";
            };

        }, 7999);
    };


    //Make run the bandaged -> it exapands.
    function animation5(){

        setTimeout(function(){

            document.getElementById("cache_gif").style.display = "block";

            bande_operate("bande1")
            bande_operate("bande2")
            bande_operate("bande3")
            bande_operate("bande4")
            bande_operate("bande5")
            bande_operate("bande6")
            bande_operate("bande7")
            bande_operate("bande8")

        }, 8005);
    };

    //Make appear the gif.
    function animation6(){
        setTimeout(function(){
            document.getElementById("gif_transition").style.opacity = "1";
            document.getElementById("gif_transition").style.visibility = "visible";
        }, 8300)

    };



    function animation7(){
        setTimeout(function(){
            document.getElementById("section3_part1").style.opacity = "0";
        }, 9500)
    };

    function animation8(){
        setTimeout(function(){
            document.getElementById("section3_part1").style.display = "none";
        }, 11500)
    };



    function redirect(){

        animation1(); //First animation, logo appear, window darkening.       1000 ms

        animation2(); //Second animation Black div background.                2500 ms

        animation3(); //Third animation text appear.                     4000-6000 ms

        animation4(); // Fourth animation displaying bandaged.                7999 ms

        animation5(); //Fivety animation bandaged moving.                     8005 ms

        animation6(); //Sixty animation make appear gif.                      8300 ms

        animation7(); //Seventy animation, make a fading on the screen.       9500 ms

        animation8(); //Heighty undisplay all.                               11500 ms
    };


    function stop_animation(){
        document.getElementById("section3_part1").style.opacity = "0";
        setTimeout(function(){
            document.getElementById("section3_part1").style.display = "none";
        }, 2000)
    }

</script>
